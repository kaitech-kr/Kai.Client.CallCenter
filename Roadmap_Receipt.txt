# 🎫 KAI 접수창(Receipt Window) 상세 로드맵

이 문서는 KAI 오더 접수창(`Order_ReceiptWnd`)의 UI/UX 구현 및 비즈니스 로직 통합을 위한 세부 실행 계획입니다.

---

## 🎯 설계 핵심 요약
- **차종 기반 트리거**: 오토바이 선택 시 퀵 모드, 트럭 선택 시 화물 모드로 자동 전환.
- **정보량 격차 해소**: 퀵 모드에서 발생하는 빈 공간에 '서비스 등급 카드' 및 '할증 태크' 위젯 배치.
- **Muscle Memory 보호**: 좌측 경로 정보 및 하단 시간 슬롯의 물리적 위치 고정.

---

## 📐 세부 구조 설계안 (Structural Design)

### 1. 상단 및 공용 섹션
- **헤더 (Header)**: 기존 2개의 헤더를 **1개로 통합**하여 수직 공간 확보.
- **예약 (Reservation)**: 기존 예약 칸 유지.
- **차종 / 지불수단 / 요금**: 공용 섹션으로 통합 배치.
- **가변 영역 (Variable Zone)**: 차종 선택에 따라 동적으로 내용물 전환.

### 2. 좌측 경로 입력 섹션 (슬림화 및 최적화)
- **의뢰자 (Requester)**:
    - 최상위 라인 삭제 (공간 절약).
    - **워터마크 활용**: 의뢰자 검색란 내부에 "의뢰자 검색" 워터마크 표시.
    - **위치란 삭제**: 불필요한 필드 제거로 복잡도 감소.
- **출발지 (Departure)**:
    - 최상위 라인 삭제.
    - 검색란 워터마크 적용.
    - **[픽업시간] 필드 추가**: 주소 바로 하단에 배치.
- **도착지 (Arrival)**:
    - 최상위 라인 삭제.
    - 검색란 워터마크 적용.
    - **[도착시간] 필드 추가**: 주소 바로 하단에 배치.

---

## 📅 구현 타임라인 (Status)

### [Phase 1] 구상 및 레이아웃 검증 (현재 단계)
- [x] **시뮬레이터 기반 구조 확정**: HTML 분석기를 통한 공용/가변 영역 구분 및 검증.
- [x] **Bridge Component 구상**: 퀵 모드 빈 공간을 채울 서비스 레벨/할증 태그 위젯 정의.
- [ ] **데이터 매핑 명세서 작성**: 인성/로지/화물24시 필드와 KAI 통합 필드 1:1 매핑.
- [ ] **인터랙티브 시나리오 테스트**: 차종 선택에 따른 자동 UX 전환 흐름 최종 확정.

### [Phase 2] 안전한 부분적 XAML 구현 (Next Step)
*프로젝트 안전을 위해 기능 단위로 작게 쪼개어 단계별 진행*
- [ ] **Step 2.1: 기반 리소스 정의**: `App.xaml` 내 테마 브러시 및 공용 스타일(버튼, 텍스트박스) 정립.
- [ ] **Step 2.2: 좌측 경로 섹션 개편**: 출발지/도착지 섹션 하단에 '시간' 입력 슬롯 추가 (안전한 부분 수정).
- [ ] **Step 2.3: 중앙 전환 컨테이너 구축**: 가변 영역을 담당할 `ContentControl` 및 데이터 템플릿 구조 준비.
- [ ] **Step 2.4: 모듈별 전용 UI 제작**: 퀵 전용 보조 위젯 및 화물 전용 톤수 그리드 개별 컴포넌트화.

### [Phase 3] 비즈니스 로직 및 통합
- [ ] **ViewModel 바인딩**: 각 필드와 `TbOrder` 데이터 객체 간의 2-way 바인딩 연결.
- [ ] **자동화 훅(Hook) 연결**: 외부 플랫폼(인성/원콜 등) 데이터 연동 및 자동 입력 로직 탑재.
- [ ] **단축키(Alt+S, Alt+D 등) 기능 구현**: 전문 상담원용 퀵 액션 매핑.

### [Phase 4] 폴리싱 및 안정화
- [ ] **다크 모드 비주얼 고도화**: 글로우 효과 및 애니메이션 미세 조정.
- [ ] **상담원 포커스 지능화**: `Enter` 키 입력 시 다음 필수 필드로 스마트 점프.
- [ ] **실제 운영 데이터 기반 예외 처리 및 수동 복구 로직 강화.**

---

## 💡 상담원 생산성 팁 (UI 반영 예정)
- **Alt+S**: 접수저장
- **Alt+D**: 대기저장
- **F2**: 고객수정
- **F3**: 기사검색
- **Enter 지능화**: 다음 필수 입력으로 자동 점프.

---
*마지막 업데이트: 2025-12-28*

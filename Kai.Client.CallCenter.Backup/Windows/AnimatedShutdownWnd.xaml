<Window x:Class="Kai.Client.CallCenter.Windows.AnimatedShutdownWnd"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Shutting Down" Height="350" Width="550"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        WindowStartupLocation="CenterOwner" ShowInTaskbar="False" Topmost="True">
    
    <Window.Resources>
        <!-- 회전 애니메이션 -->
        <Storyboard x:Key="RotateStoryboard">
            <DoubleAnimation Storyboard.TargetName="LoadingPath"
                             Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                             From="0" To="360" Duration="0:0:2" RepeatBehavior="Forever"/>
        </Storyboard>
        <!-- 텍스트 박동 애니메이션 -->
        <Storyboard x:Key="PulseStoryboard">
            <DoubleAnimation Storyboard.TargetName="TxtMsg"
                             Storyboard.TargetProperty="Opacity"
                             From="0.5" To="1" Duration="0:0:1" 
                             AutoReverse="True" RepeatBehavior="Forever"/>
        </Storyboard>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard Storyboard="{StaticResource RotateStoryboard}"/>
            <BeginStoryboard Storyboard="{StaticResource PulseStoryboard}"/>
        </EventTrigger>
    </Window.Triggers>

    <Grid>
        <!-- 유리 느낌의 배경 패널 -->
        <Border Background="#EE1A1A1A" CornerRadius="30" BorderThickness="2">
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="Cyan" Offset="0"/>
                    <GradientStop Color="#00FFFF" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.Effect>
                <DropShadowEffect BlurRadius="25" ShadowDepth="0" Color="Cyan" Opacity="0.5"/>
            </Border.Effect>

            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <!-- 테크니컬 로딩 아이콘 -->
                <Grid Width="80" Height="80" Margin="0,0,0,30">
                    <Path x:Name="LoadingPath" 
                          Data="M40,5 A35,35 0 1,1 39.9,5" 
                          Stroke="Cyan" StrokeThickness="4" StrokeDashArray="4 2"
                          RenderTransformOrigin="0.5,0.5">
                        <Path.RenderTransform>
                            <RotateTransform Angle="0"/>
                        </Path.RenderTransform>
                    </Path>
                    <Path Data="M40,15 A25,25 0 1,0 40,65 A25,25 0 1,0 40,15" 
                          Fill="#2200FFFF" Opacity="0.3"/>
                </Grid>

                <TextBlock x:Name="TxtMsg" 
                           Text="KAI SYSTEM SHUTTING DOWN" 
                           Foreground="Cyan" 
                           FontSize="20" 
                           FontWeight="Bold"
                           HorizontalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect BlurRadius="10" Color="Cyan" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
                
                <TextBlock Text="잠시만 기다려 주세요..." Foreground="Gray" 
                           Margin="0,15,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
